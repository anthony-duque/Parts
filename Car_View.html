<html ng-app='carViewModule'>
<head>
    <title>Car Parts Status</title>
    <script src="./scripts/angularjs.js"></script>
    <script src="./scripts/Car_View.js"></script>
    <link rel='stylesheet' href="./styles/Parts.css" />
</head>
<body ng-controller="carViewController">

<table width='100%' align=center border=0 class='heading'>
    <tr>
        <td width='10%'>RO #:</td>
        <th align='left' width='40%'>
            {{ car.ro_num }}
        </th>
        <td align='right' width='40%'>
            Estimator:
        </td>
        <th align='left' width='10%'>
            &nbsp;{{ car.estimator }}
        </th>
    </tr>
    <tr>
        <td>Vehicle:</td>
        <th align='left'>{{ car.vehicle }}</th>
        <td align='right'>Technician:</td>
        <th align='left'>&nbsp;{{ car.technician }}</th>
    </tr>
    <tr>
        <td>Owner:</td>
        <th align='left'>{{ car.owner }}</th>
    </tr>
</table>
<br/>
<table width=100% align='center' id='carParts'>
    <tr>
        <td align='center' colspan='7'>
            Search: <input type='text' ng-model='searchText' />
        </td>
    </tr>
    <tr>
        <th style='border-bottom-style: groove' ng-click="SortParts('part_number');">
            Part Number
        </th>
        <th style='border-bottom-style: groove' ng-click="SortParts('part_description');">
            Part Description
        </th>
        <th style='border-bottom-style: groove' ng-click="SortParts('vendor_name');">
            Vendor Name
        </th>
        <th style='border-bottom-style: groove' ng-click="SortParts('ro_quantity');">
            RO<br/>Qty
        </th>
        <th style='border-bottom-style: groove' ng-click="SortParts('ordered_quantity');">
            Ordered<br/>Qty
        </th>
        <th style='border-bottom-style: groove' ng-click="SortParts('received_quantity');">
            Received<br/>Qty
        </th>
        <th style='border-bottom-style: groove' ng-click="SortParts('returned_quantity');">
            Returned<br/>Qty
        </th>
        <th style='border-bottom-style: groove' ng-click="SortParts('returned_quantity');">
            Expected<br/>Delivery
        </th>
    </tr>
    <tr ng-repeat='eachPart in car.partsList | orderBy: sortField | filter: searchText' ng-class="PartStatus(eachPart.ordered_quantity, eachPart.received_quantity, eachPart.returned_quantity)">
        <td align='center'>
            <a href='http://www.google.com/search?q={{ eachPart.part_number }}' target='_blank' >
                {{ eachPart.part_number }}
            </a>
        </td>
        <td align='left'>
            {{ eachPart.part_description }}
        </td>
        <td align='center'>
            {{ eachPart.vendor_name }}
        </td>
        <td align='center'>
            {{ eachPart.ro_quantity }}
        </td>
        <td align='center'>
            {{ eachPart.ordered_quantity }}
        </td>
        <td align='center'>
            {{ eachPart.received_quantity }}
        </td>
        <td align='center'>
            {{ eachPart.returned_quantity }}
        </td>
        <td align='center'>
            {{ eachPart.expected_delivery }}
        </td>
    </tr>
</table>
</body>
</html>
