<html ng-app="UnorderedPartsApp">
<head>
    <title>Unordered Parts</title>
    <script src='./scripts/angularjs.js'></script>
    <script src='./scripts/UnorderedParts.js'></script>
    <script src='./scripts/UtilityFunctions.js'></script>
    <link rel="stylesheet" href="./styles/Parts.css">
</head>
<body ng-controller="UnorderedPartsController">
    <table border=1 width='100%'>
        <caption>
            <h3>Unordered Parts</h3>
        </caption>
        <tr ng-repeat='estimator in estimators'>
            <td width='10%' align='center' ng-class='ToggleRow($index);' ng-click='ShowHideParts(estimator);'>
                {{ estimator.name }}
            </td>
            <td width='90%'>
                <table border=1 width='100%'>
                    <tr ng-repeat='eachCar in estimator.cars'>
                        <td ng-click='eachCar.showParts = !eachCar.showParts'>
                            <table width='100%'>
                                <tr>
                                    <th align='left' width='5%'>
                                        {{ eachCar.ro_num }}
                                    </th>
                                    <th align='left' width='20%'>
                                        {{ eachCar.owner }}
                                    </th>
                                    <th align='left'>
                                        {{ eachCar.vehicle }}
                                    </th>
                                </tr>
                            </table>
                            <table align='center' width='100%' border='1' ng-show='eachCar.showParts'>
                                <tr>
                                    <td width='20%' align='center'>
                                        Part No.
                                    </td>
                                    <td width='30%' align='center'>
                                        Part Description
                                    </td>
                                    <td width='10%' align='center'>
                                        Line No.
                                    </td>
                                    <td width='10%' align='center'>
                                        Required
                                    </td>
                                    <td width='10%' align='center'>
                                        Ordered
                                    </td>
                                    <td width='10%' align='center'>
                                        Received
                                    </td>
                                    <td align='center'>
                                        Order Date
                                    </td>
                                </tr>
                            </table>
                            <table width='100%' border='1'>
                                <tr ng-repeat='eachPart in eachCar.parts' ng-show='eachCar.showParts' ng-class='ToggleRow($index);'>
                                    <td width='20%' align='center'>
                                        {{ eachPart.part_number }}
                                    </td>
                                    <td width='30%'>
                                        {{ eachPart.part_description }}
                                    </td>
                                    <td width='10%' align='center'>
                                        {{ eachPart.line_num }}
                                    </td>
                                    <td width='10%' align='center'>
                                        {{ eachPart.ro_qty }}
                                    </td>
                                    <td width='10%' align='center'>
                                        {{ eachPart.ordered_qty }}
                                    </td>
                                    <td width='10%' align='center'>
                                        {{ eachPart.received_qty }}
                                    </td>
                                    <td>
                                        {{ eachPart.order_date }}
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</body>
</html>
