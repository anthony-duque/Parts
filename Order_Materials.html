<table id='tblMain' width='100%' border='2' border-color="green" ng-controller='OrderMaterialsController'>
<tr>
    <td width='50%'>

        <table id='tblTechList'>
        <tr>
            <td id='colTechs' colspan="2">
                <b style='color : red'>Order for:</b>
                <select ng-model='technician' class="form-select">
                    <option ng-repeat='eachTech in techList| filter: { locID: locationID } | orderBy:"firstName"' value='{{eachTech.firstName}},{{eachTech.locID}}'>
                        {{ eachTech.firstName }}
                    </option>
                </select>
            </td>
        </tr>
        <tr ng-show='technician.length > 0'>
            <td>
                <br/>
                Search: <input type='text' ng-model='searchText' placeholder="Enter any text"></input>
                <input type='button' ng-click='searchText = ""' value='Clear' class="btn btn-warning">
            </td>
        </tr>
        </table>

        <br/>

        <table id='tblMaterialsListTbl' ng-show='technician.length > 0'>
        <tr>
            <td>
                <input type='button' value='New Item' ng-click='Add_New_Material();' class="btn btn-primary"/>
                <br/><br/>
            </td>
        </tr>
        <tr class="heading">
            <th>Part Number</th>
            <th>Brand</th>
            <th>Description</th>
            <th>Qty</th>
            <th>Unit</th>
            <th>Ordered</th>
        </tr>
        <tr ng-repeat='eachMat in newMatList'>
            <td>
                <input type='text' ng-model='eachMat.part_number' />
            </td>
            <td>
                <input type='text' ng-model='eachMat.brand' />
            </td>
            <td>
                <input type='text' ng-model='eachMat.description' />
            </td>
            <td>
                <input type='number' min=0 max=20
                        ng-model='eachMat.ordered_qty'
                        ng-change='CheckOrder(eachMat);'>
            </td>
            <td>
                <input type='text' ng-model='eachMat.unit' />
            </td>
            <td ng-show='eachMat.ordered_qty > 0' align='center'>
                ✔
            </td>
        </tr>
        <tr ng-repeat='eachMat in materialsList | filter: searchText' ng-class='ToggleColor($index, "white", "lightBlue");'>
            <td>
                <a href='http://www.google.com/search?tbm=isch&q="{{ eachMat.brand }} {{ eachMat.part_number }}"' target='_blank'>
                    {{ eachMat.part_number }}
                </a>
            </td>
            <td align='center'>
                {{ eachMat.brand }}
            </td>
            <td>
                {{ eachMat.description }}
            </td>
            <td>
                <input type='number' min=0 max=20
                        ng-model='eachMat.ordered_qty'
                        ng-change='CheckOrder(eachMat);'>
            </td>
            <td align='center'>
                {{ eachMat.unit }}
            </td>
            <td ng-show='eachMat.ordered_qty > 0' align='center'>
                ✔
            </td>
        </tr>
        </table>
    </td>
    <td width='40%' align='left' valign='top'>
        <br/><br/><br/><br/><br/><br/><br/><br/>
        <table id='tblOrderList' ng-show='technician.length > 0' width='90%' align='left'>
        <thead>
        <tr>
            <td colspan="6" align="center">
                <u><h4>Ordered Materials</h4></u>
            </td>
        </tr>
        <tr class="heading">
            <td>
                Received
            </td>
            <td>
                Qty
            </td>
            <td>
                Unit
            </td>
            <td>
                Part No.
            </td>
            <td>
                Brand
            </td>
            <td>
                Description
            </td>
        </tr>
        </thead>
        <tr ng-repeat='eachItem in ordersList' ng-class='ToggleColor($index, "white", "lightBlue");'>
            <td align='center'>
                <input type='checkbox' ng-model='eachItem.received' />
            </td>
            <td align='center'>
                {{ eachItem.ordered_qty }}
            </td>
            <td align='center'>
                {{ eachItem.unit }}
            </td>
            <td align='center'>
                {{ eachItem.part_number }}
            </td>
            <td align='center'>
                {{ eachItem.brand }}
            </td>
            <td align='center'>
                {{ eachItem.description }}
            </td>
        </tr>
        <tr>
            <td colspan="6" align='center'>
                <br/><br/>
                <input type='submit' value='Submit Request' ng-click='SubmitOrder();' class="btn btn-success" ng-show='ordersList.length > 0'/>
            </td>
        </tr>
        </table>

    </td>
</tr>
</table>
