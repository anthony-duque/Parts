<html ng-app="StageApp">
<head>
    <title>Production Stage</title>
    <script src='./scripts/angularjs.js'></script>
    <script src='./scripts/Stage.js'></script>
    <script src='./scripts/UtilityFunctions.js'></script>
    <link rel='stylesheet' href="./styles/Parts.css" />
</head>
<body ng-controller='StageCtrlr'>
    <table align='center' width='100%'>
    <tr>
        <td>
            Technician:
            <select ng-model='tech'>
                <option value=''>All Techs</option>
                <option value='Jose'>Jose</option>
                <option value='Jerry'>Jerry</option>
                <option value='Nacho'>Nacho</option>
                <option value='Van'>Van</option>
            </select>
        </td>
        <td>
            Estimator:
            <select ng-model='estim'>
                <option value=''>All Estimators</option>
                <option value='Ray'>Ray</option>
                <option value='Tony'>Tony</option>
                <option value='Kevin'>Kevin</option>
                <option value='Jim'>Jim</option>
                <option value='Chad'>Chad</option>
            </select>
        </td>
        <td align='right'>
            Search: <input type='text' ng-model='searchText'/>&nbsp;
            <input type='button' value='Clear' ng-click='searchText = ""'>
        </td>
        <td align='right'>
            Shop:
            <select ng-model='locID'>
                <option value=1 selected>CarStar City Auto</option>
                <option value=2>CarStar Simi Valley</option>
            </select>
        </td>
    </tr>
    </table>

    <table border=1>
        <tr>
            <th width='{{ colWidth }}%'>
                Check-In/Pre-scan
            </th>
            <th width='{{ colWidth }}%'>
                Disassembly
            </th>
            <th width='{{ colWidth }}%'>
                Repair<br>Plan
            </th>
            <th width='{{ colWidth }}%'>
                Awaiting<br>Approval
            </th>
            <th width='{{ colWidth }}%'>
                Waiting<br>for Parts
            </th>
            <th width='{{ colWidth }}%'>
                Body
            </th>
            <th width='{{ colWidth }}%'>
                Primer
            </th>
            <th width='{{ colWidth }}%'>
                Paint
            </th>
            <th width='{{ colWidth }}%'>
                Delay
            </th>
            <th width='{{ colWidth }}%'>
                Reassembly
            </th>
            <th width='{{ colWidth }}%'>
                Sublet
            </th>
            <th width='{{ colWidth }}%'>
                Detail
            </th>
            <th width='{{ colWidth }}%'>
                Final QC/<br>Post Scan
            </th>
            <th width='{{ colWidth }}%'>
                Ready for<br>Delivery
            </th>
        </tr>
        <tr>
            <td valign='top'>
                <table border="1" id='CheckInPreScan' width='100%'>
                <tr ng-init='lastCarIndex = production_stage[0].cars.length - 1'
                    ng-repeat='eachCar in production_stage[0].cars
                                | filter: { locationID: locID }
                                | filter: { technician: tech }
                                | filter: { estimator: estim }
                                | filter : searchText'>
                    <td ng-class='eachCar.borderColor' ng-click='ChangeBorder(eachCar.ro_num, eachCar.locationID);'>
                        <div ng-include='"Stage_Car.html"' ng-class='CheckParts(eachCar);'>
                    </td>
                </tr>
                </table>
            </td>
            <td valign='top'>
                <table border="1" id='Disassembly' width='100%'>
                <tr ng-init='lastCarIndex = production_stage[1].cars.length - 1'
                    ng-repeat='eachCar in production_stage[1].cars
                                | filter: { locationID: locID }
                                | filter: { technician: tech }
                                | filter: { estimator: estim }
                                | filter : searchText'>
                    <td ng-class='eachCar.borderColor' ng-click='ChangeBorder(eachCar.ro_num, eachCar.locationID);'>
                        <div ng-include='"Stage_Car.html"' ng-class='CheckParts(eachCar);'>
                    </td>
                </tr>
                </table>
            </td>
            <td valign='top'>
                <table border="1" id='RepairPlan' width='100%'>
                <tr ng-init='lastCarIndex = production_stage[2].cars.length - 1'
                    ng-repeat='eachCar in production_stage[2].cars
                                | filter: { locationID: locID }
                                | filter: { technician: tech }
                                | filter: { estimator: estim }
                                | filter : searchText'>
                    <td ng-class='eachCar.borderColor' ng-click='ChangeBorder(eachCar.ro_num, eachCar.locationID);'>
                        <div ng-include='"Stage_Car.html"' ng-class='CheckParts(eachCar);'>
                    </td>
                </tr>
                </table>
            </td>
            <td valign='top'>
                <table border="1" id='AwaitingApproval' width='100%'>
                <tr ng-init='lastCarIndex = production_stage[3].cars.length - 1'
                    ng-repeat='eachCar in production_stage[3].cars
                                | filter: { locationID: locID }
                                | filter: { technician: tech }
                                | filter: { estimator: estim }
                                | filter : searchText'>
                    <td ng-class='eachCar.borderColor' ng-click='ChangeBorder(eachCar.ro_num, eachCar.locationID);'>
                        <div ng-include='"Stage_Car.html"' ng-class='CheckParts(eachCar);'>
                    </td>
                </tr>
                </table>
            </td>
            <td valign='top'>
                <table border="1" id='AwaitingParts' width='100%'>
                <tr ng-init='lastCarIndex = production_stage[4].cars.length - 1'
                    ng-repeat='eachCar in production_stage[4].cars
                        | filter: { locationID: locID }
                        | filter: { technician: tech }
                        | filter: { estimator: estim }
                        | filter : searchText'>
                    <td ng-class='eachCar.borderColor' ng-click='ChangeBorder(eachCar.ro_num, eachCar.locationID);'>
                        <div ng-include='"Stage_Car.html"' ng-class='CheckParts(eachCar);'>
                    </td>
                </tr>
                </table>
            </td>
            <td valign='top'>
                <table border="1" id='Body' width='100%'>
                <tr ng-init='lastCarIndex = production_stage[5].cars.length - 1'
                    ng-repeat='eachCar in production_stage[5].cars
                                | filter: { locationID: locID }
                                | filter: { technician: tech }
                                | filter: { estimator: estim }
                                | filter : searchText'>
                    <td ng-class='eachCar.borderColor' ng-click='ChangeBorder(eachCar.ro_num, eachCar.locationID);'>
                        <div ng-include='"Stage_Car.html"' ng-class='CheckParts(eachCar);'>
                    </td>
                </tr>
                </table>
            </td>
            <td valign='top'>
                <table border="1" id='Primer' width='100%'>
                <tr ng-init='lastCarIndex = production_stage[6].cars.length - 1'
                    ng-repeat='eachCar in production_stage[6].cars
                                | filter: { locationID: locID }
                                | filter: { technician: tech }
                                | filter: { estimator: estim }
                                | filter : searchText'>
                    <td ng-class='eachCar.borderColor' ng-click='ChangeBorder(eachCar.ro_num, eachCar.locationID);'>
                        <div ng-include='"Stage_Car.html"' ng-class='CheckParts(eachCar);'>
                    </td>
                </tr>
                </table>
            </td>
            <td valign='top'>
                <table border="1" id='Paint' width='100%'>
                <tr ng-init='lastCarIndex = production_stage[7].cars.length - 1'
                    ng-repeat='eachCar in production_stage[7].cars
                                | filter: { locationID: locID }
                                | filter: { technician: tech }
                                | filter: { estimator: estim }
                                | filter : searchText'>
                    <td ng-class='eachCar.borderColor' ng-click='ChangeBorder(eachCar.ro_num, eachCar.locationID);'>
                        <div ng-include='"Stage_Car.html"' ng-class='CheckParts(eachCar);'>
                    </td>
                </tr>
                </table>
            </td>
            <td valign='top'>
                <table border="1" id='Delay' width='100%'>
                <tr ng-init='lastCarIndex = production_stage[8].cars.length - 1'
                    ng-repeat='eachCar in production_stage[8].cars
                                | filter: { locationID: locID }
                                | filter: { technician: tech }
                                | filter: { estimator: estim }
                                | filter : searchText'>
                    <td ng-class='eachCar.borderColor' ng-click='ChangeBorder(eachCar.ro_num, eachCar.locationID);'>
                        <div ng-include='"Stage_Car.html"' ng-class='CheckParts(eachCar);'></div>
                    </td>
                </tr>
                </table>
            </td>
            <td valign='top'>
                <table border="1" id='Re-assembly' width='100%'>
                <tr ng-init='lastCarIndex = production_stage[9].cars.length - 1'
                    ng-repeat='eachCar in production_stage[9].cars
                                | filter: { locationID: locID }
                                | filter: { technician: tech }
                                | filter: { estimator: estim }
                                | filter : searchText'>
                    <td ng-class='eachCar.borderColor' ng-click='ChangeBorder(eachCar.ro_num, eachCar.locationID);'>
                        <div ng-include='"Stage_Car.html"' ng-class='CheckParts(eachCar);'></div>
                    </td>
                </tr>
                </table>
            </td>
            <td valign='top'>
                <table border="1" id='Sublet' width='100%'>
                    <tr ng-init='lastCarIndex = production_stage[10].cars.length -1'
                        ng-repeat='eachCar in production_stage[10].cars
                                    | filter: { locationID: locID }
                                    | filter: { technician: tech }
                                    | filter: { estimator: estim }
                                    | filter : searchText'>
                    <td ng-class='eachCar.borderColor' ng-click='ChangeBorder(eachCar.ro_num, eachCar.locationID);'>
                        <div ng-include='"Stage_Car.html"' ng-class='CheckParts(eachCar);'></div>
                    </td>
                </tr>
                </table>
            </td>
            <td valign='top'>
                <table border="1" id='Detail' width='100%'>
                    <tr ng-init='lastCarIndex = production_stage[11].cars.length - 1'
                        ng-repeat='eachCar in production_stage[11].cars
                                    | filter: { locationID: locID }
                                    | filter: { technician: tech }
                                    | filter: { estimator: estim }
                                    | filter : searchText'>
                    <td ng-class='eachCar.borderColor' ng-click='ChangeBorder(eachCar.ro_num, eachCar.locationID);'>
                        <div ng-include='"Stage_Car.html"' ng-class='CheckParts(eachCar);'>
                    </td>
                </tr>
                </table>
            </td>
            <td valign='top'>
                <table border="1" id='FinalQC' width='100%'>
                    <tr ng-init='lastCarIndex = production_stage[12].cars.length - 1'
                        ng-repeat='eachCar in production_stage[12].cars
                                    | filter: { locationID: locID }
                                    | filter: { technician: tech }
                                    | filter: { estimator: estim }
                                    | filter : searchText'>
                    <td ng-class='eachCar.borderColor' ng-click='ChangeBorder(eachCar.ro_num, eachCar.locationID);'>
                        <div ng-include='"Stage_Car.html"' ng-class='CheckParts(eachCar);'>
                    </td>
                </tr>
                </table>
            </td>
            <td valign='top'>
                <table border="1" id='ForDelivery' width='100%'>
                    <tr ng-init='lastCarIndex = production_stage[13].cars.length - 1'
                        ng-repeat='eachCar in production_stage[13].cars
                                    | filter: { locationID: locID }
                                    | filter: { technician: tech }
                                    | filter: { estimator: estim }
                                    | filter : searchText'>
                    <td ng-class='eachCar.borderColor' ng-click='ChangeBorder(eachCar.ro_num, eachCar.locationID);'>
                        <div ng-include='"Stage_Car.html"' ng-class='CheckParts(eachCar);'>
                    </td>
                </tr>
                </table>
            </td>
        </tr>
    </table>

    <br>
</body>
</html>
